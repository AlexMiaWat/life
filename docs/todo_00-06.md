–¶–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∞

–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –Ω–µ—Ä–µ—à—ë–Ω–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∏ –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ:

–≤—ã—è–≤–ª–µ–Ω—ã –≤ —ç—Ç–∞–ø–∞—Ö 00‚Äì06

–Ω–µ –¥–æ–ª–∂–Ω—ã —Ä–µ—à–∞—Ç—å—Å—è —Å–µ–π—á–∞—Å

–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–∫—Ä—ã—Ç—ã –ø–æ–∑–∂–µ, —á—Ç–æ–±—ã Life –æ—Å—Ç–∞–≤–∞–ª—Å—è –∑–¥–æ—Ä–æ–≤—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º

–≠—Ç–æ –Ω–µ –±–∞–≥–ª–∏—Å—Ç, –∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π TODO.

üî¥ –û–±—â–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –¥–æ–ª–≥–∏
1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ Lifecycle

–ü—Ä–æ–±–ª–µ–º–∞:

Life –Ω–µ –∏–º–µ–µ—Ç —è–≤–Ω—ã—Ö —Ñ–∞–∑ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è (init ‚Üí run ‚Üí degrade ‚Üí terminate)

termination —Ä–∞–∑–º–∞–∑–∞–Ω–∞ –ø–æ loop

–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–æ–∑–∂–µ:

–í–≤–µ—Å—Ç–∏ Lifecycle API

–Ø–≤–Ω—ã–µ —Ö—É–∫–∏: on_birth, on_tick, on_death

2. Self-State ‚Äî —ç—Ç–æ dict, –∞ –Ω–µ —Å—É—â–Ω–æ—Å—Ç—å

–ü—Ä–æ–±–ª–µ–º–∞:

–Ω–µ—Ç –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏

–ª—é–±–æ–π –º–æ–¥—É–ª—å –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å —á—Ç–æ —É–≥–æ–¥–Ω–æ

–Ω–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–æ–∑–∂–µ:

–ó–∞–º–µ–Ω–∏—Ç—å dict ‚Üí –æ–±—ä–µ–∫—Ç / dataclass

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã

Self-State –¥–æ–ª–∂–µ–Ω ¬´–∑–Ω–∞—Ç—å¬ª, –∂–∏–≤ –æ–Ω –∏–ª–∏ –Ω–µ—Ç

üü† –≠—Ç–∞–ø 00 ‚Äî Vision
3. –ù–µ—Ç –æ—â—É—â–µ–Ω–∏—è ¬´–ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ø¬ª

–ü—Ä–æ–±–ª–µ–º–∞:

age –µ—Å—Ç—å, –Ω–æ –Ω–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

–Ω–µ—Ç —Å—É–±—ä–µ–∫—Ç–∏–≤–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–ü–æ–∑–∂–µ:

–í–≤–µ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –≤—Ä–µ–º—è life

–û—Ç–ª–∏—á–∏–µ –º–µ–∂–¥—É —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –∏ —Å—É–±—ä–µ–∫—Ç–∏–≤–Ω—ã–º

üü† –≠—Ç–∞–ø 01 ‚Äî Architecture
4. Runtime loop –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—è–º–∏

–ü—Ä–æ–±–ª–µ–º–∞:

loop —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–∏–º

–∑–Ω–∞–µ—Ç –ø—Ä–æ snapshot, logging, monitor, termination

–ü–æ–∑–∂–µ:

–í—ã–Ω–µ—Å—Ç–∏ –º–µ–Ω–µ–¥–∂–µ—Ä—ã:

SnapshotManager

LogManager

LifePolicy

üü† –≠—Ç–∞–ø 02 ‚Äî Runtime Loop
5. –ù–µ—Ç event-driven –º–æ–¥–µ–ª–∏

–ü—Ä–æ–±–ª–µ–º–∞:

–≤—Å—ë –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç ¬´–ø–æ —Ç–∏–∫–∞–º¬ª

–Ω–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

–ü–æ–∑–∂–µ:

–î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–π–Ω—É—é –æ—á–µ—Ä–µ–¥—å

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏–π –º–µ–∂–¥—É —Ç–∏–∫–∞–º–∏

üü† –≠—Ç–∞–ø 03 ‚Äî Self-State
6. –ù–µ—Ç –ø–∞–º—è—Ç–∏ –∏ –∏—Å—Ç–æ—Ä–∏–∏

–ü—Ä–æ–±–ª–µ–º–∞:

—Å–æ—Å—Ç–æ—è–Ω–∏–µ –µ—Å—Ç—å, –æ–ø—ã—Ç–∞ –Ω–µ—Ç

snapshot ‚â† –ø–∞–º—è—Ç—å

–ü–æ–∑–∂–µ:

–í–≤–µ—Å—Ç–∏ Memory subsystem

–†–∞–∑–¥–µ–ª–∏—Ç—å:

–∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–º—è—Ç—å

üü† –≠—Ç–∞–ø 04 ‚Äî Monitor
7. Monitor –ø–∞—Å—Å–∏–≤–µ–Ω

–ü—Ä–æ–±–ª–µ–º–∞:

–æ–Ω —Ç–æ–ª—å–∫–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç

–Ω–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç

–Ω–µ –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç

–ü–æ–∑–∂–µ:

–î–æ–±–∞–≤–∏—Ç—å semantic monitor

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å ¬´–∑–∞–º–µ—á–∞—Ç—å¬ª –∞–Ω–æ–º–∞–ª–∏–∏

üü† –≠—Ç–∞–ø 05 ‚Äî Minimal Implementation
8. –ù–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

–ü—Ä–æ–±–ª–µ–º–∞:

snapshot —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∂–∏–∑–Ω–∏

–ü–æ–∑–∂–µ:

Recovery from snapshot

–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∂–∏–∑–Ω–∏ –ø–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞

üü† –≠—Ç–∞–ø 06 ‚Äî API Server
9. Shared mutable state –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

–ü—Ä–æ–±–ª–µ–º–∞:

loop –ø–∏—à–µ—Ç

API —á–∏—Ç–∞–µ—Ç

–ü–æ–∑–∂–µ:

Immutable snapshot –¥–ª—è API

–∏–ª–∏ thread-safe —Å–ª–æ–π

10. Hot reload —á–µ—Ä–µ–∑ importlib ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥

–ü—Ä–æ–±–ª–µ–º–∞:

–ª–æ–º–∞–µ—Ç –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –æ–±—ä–µ–∫—Ç–æ–≤

—Å–æ–∑–¥–∞—ë—Ç –≤–∏—Å—è—â–∏–µ —Å–µ—Ä–≤–µ—Ä—ã

—Å–ª–æ–∂–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è

–ü–æ–∑–∂–µ:

Dev-mode = –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞

–ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ: Life ‚â† tooling

11. API ‚Äî –∞–¥–º–∏–Ω–∫–∞, –∞ –Ω–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–∏—Ä–∞

–ü—Ä–æ–±–ª–µ–º–∞:

API —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª–∞–º–∏

–Ω–æ –Ω–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –∂–∏–∑–Ω—å—é

–ü–æ–∑–∂–µ:

API –∫–∞–∫ –∫–∞–Ω–∞–ª —Å—Ä–µ–¥—ã

–í–Ω–µ—à–Ω–∏–µ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è —á–µ—Ä–µ–∑ API

üü¢ –ò—Ç–æ–≥

–ü—Ä–æ–µ–∫—Ç –∑–¥–æ—Ä–æ–≤, –Ω–æ:

–∏–º–µ–µ—Ç –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–µ –¥–æ–ª–≥–∏

–æ–Ω–∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã

–Ω–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö –Ω–µ –∫—Ä–∏—Ç–∏—á–µ–Ω –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å