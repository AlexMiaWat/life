# 04_MONITOR.md — Система наблюдения

## Назначение
Monitor — это инструмент для наблюдения за жизнью **Life** со стороны человека.
Он работает в режиме "только чтение" и не влияет на процессы внутри системы.

## Текущий статус
✅ **Реализован** (v1.0)
*   Файл: [`src/monitor/console.py`](../../src/monitor/console.py)
*   Поддерживает консольный вывод (Heartbeat) и логирование в файл.

## Функции

### 1. Console Heartbeat
Выводит текущее состояние в консоль в реальном времени (одна строка, обновляется каждый такт).

Формат:
```text
• [000123] age=60.5s energy=98.0 int=1.00 stab=0.99
```
*   `•` — индикатор такта (мигает).
*   `[ticks]` — счетчик тактов.
*   `age` — возраст.
*   `energy`, `int`, `stab` — жизненные показатели.

### 2. File Logging
Сохраняет детальную историю каждого такта в JSONL файл.
*   Путь: `data/tick_log.jsonl`
*   Формат: JSON Lines (один объект JSON на строку).

Пример записи:
```json
{
  "timestamp": 1704987654.321,
  "ticks": 123,
  "age": 60.5,
  "energy": 98.0,
  "integrity": 1.0,
  "stability": 0.99,
  "active": true
}
```

## Принципы

1.  **Невмешательство:** Монитор никогда не пишет в `Self-State`.
2.  **Объективность:** Монитор показывает цифры, а не интерпретации ("энергия 10%", а не "я устал").
3.  **Отказоустойчивость:** Ошибка в мониторе не должна убивать Life.

## Использование

Монитор подключается к Runtime Loop как callback-функция:

```python
from monitor.console import console_monitor
from runtime.loop import run_loop

run_loop(..., monitor=console_monitor)
```
