# FAQ — Часто задаваемые вопросы

> **Назначение:** Ответы на частые вопросы о проекте Life

## Общие вопросы

### Что такое проект Life?

Life — это экспериментальный умный компаньон с непрерывной жизнью, наблюдением и API. Проект исследует концепцию длительного существования вычислительной системы, где процесс работает постоянно, накапливая состояние и историю.

### Почему система не "умирает"?

В проекте Life реализована концепция "смерти нет — только слабость и бессилие". Система не завершается при критических значениях параметров (energy <= 0, integrity <= 0), а продолжает функционировать в ослабленном состоянии, демонстрируя адаптацию к деградации.

### Какие технологии используются?

- **Язык:** Python 3.10+ (рекомендуется 3.11+)
- **Фреймворк API:** FastAPI
- **Тестирование:** pytest
- **Документация:** Markdown

## Архитектурные вопросы

### Почему нет целей и оптимизации?

Проект Life следует философии, где система не стремится к достижению целей или оптимизации поведения. Вместо этого система медленно изменяет внутренние параметры на основе накопленного опыта, без оценки эффективности.

### Как работает Learning без оптимизации?

Learning Engine медленно изменяет внутренние параметры (макс. 0.01 за раз) на основе статистики из Memory, но **не оценивает эффективность** этих изменений. Изменения основаны на частоте событий и паттернах, а не на оценке "правильности".

### В чем разница между Learning и Adaptation?

- **Learning** — медленное изменение внутренних параметров на основе статистики Memory
- **Adaptation** — медленная перестройка параметров поведения на основе изменений Learning

Adaptation "медленно следует" за изменениями Learning, приближая параметры поведения к параметрам Learning.

### Почему Memory ограничена 50 записями?

Ограничение размера памяти (50 записей) обеспечивает:
- Управляемое потребление памяти
- Фокус на наиболее значимых событиях
- Реалистичную модель ограниченной памяти

Старые записи архивируются в `data/archive/memory_archive.json`.

## Технические вопросы

### Как запустить систему?

```bash
# Основной запуск
python src/main_server_api.py --tick-interval 1.0 --snapshot-period 10

# Dev-режим с авто-перезагрузкой
python src/main_server_api.py --dev --tick-interval 1.0
```

### Как отправить событие в систему?

**Через API:**
```bash
curl -X POST http://localhost:8000/event \
  -H "Content-Type: application/json" \
  -d '{"type":"noise","intensity":0.1}'
```

**Через генератор:**
```bash
python -m environment.generator_cli --interval 5 --host localhost --port 8000
```

### Как получить статус системы?

```bash
curl http://localhost:8000/status
```

### Как очистить данные?

```bash
curl http://localhost:8000/clear-data
```

Или при запуске:
```bash
python src/main_server_api.py --clear-data yes
```

### Как работает dev-режим?

В dev-режиме система автоматически отслеживает изменения в исходных файлах и перезагружает модули без остановки процесса. Это позволяет быстро тестировать изменения.

### Где хранятся данные?

- **Логи:** `data/tick_log.jsonl`
- **Snapshots:** `data/snapshots/snapshot_XXXXXX.json`
- **Архив памяти:** `data/archive/memory_archive.json`

## Вопросы о модулях

### Как добавить новый модуль?

См. [Руководство по расширению системы](development/extending-system.md).

### Как работает Memory v2.0?

Memory v2.0 включает:
- **Механизм забывания** — затухание весов записей
- **Архивацию** — перенос старых записей в архив
- **Статистику** — отслеживание использования памяти

### Как часто вызывается Learning?

Learning вызывается раз в 50-100 тиков (в зависимости от текущей реализации). Изменения параметров ограничены 0.01 за раз.

### Как часто вызывается Adaptation?

Adaptation вызывается после каждого вызова Learning. Изменения параметров поведения тоже ограничены 0.01 за раз.

### Как работает Feedback?

Feedback регистрирует действия системы и наблюдает их последствия через несколько тиков. Результаты сохраняются в Memory как FeedbackRecord с информацией о том, какие изменения состояния произошли после выполнения действия.

## Вопросы о тестировании

### Как запустить тесты?

```bash
# Все тесты
pytest src/test/ -v

# С покрытием кода
pytest src/test/ --cov=src --cov-report=html

# Только быстрые тесты
pytest src/test/ -v -m "not slow and not performance"
```

### Какое покрытие кода?

Текущее покрытие: **96%**. Все основные модули покрыты на 100%.

### Как тестировать с реальным сервером?

```bash
# 1. Запустите сервер в отдельном терминале
python src/main_server_api.py --dev

# 2. Запустите тесты с опцией --real-server
pytest src/test/ --real-server --server-port 8000
```

## Вопросы о документации

### Где найти документацию по компонентам?

Документация компонентов находится в `docs/components/`.

### Где найти концептуальные документы?

Концептуальные документы находятся в `docs/concepts/`.

### Как обновить документацию?

1. Обновите соответствующий файл в `docs/`
2. Обновите `docs/INDEX.md` при добавлении новых документов
3. Убедитесь, что ссылки актуальны

## Вопросы о производительности

### Как оптимизировать производительность?

- Используйте `--tick-interval` для настройки частоты тиков
- Настройте `--snapshot-period` для частоты сохранения snapshots
- Используйте архивацию памяти для уменьшения размера активной памяти

### Сколько памяти использует система?

Размер активной памяти ограничен 50 записями. Старые записи архивируются. Snapshots сохраняются периодически (по умолчанию раз в 10 тиков).

## Вопросы о расширении

### Можно ли добавить новые типы событий?

Да, см. [Руководство по расширению системы](development/extending-system.md), раздел "Пример 1".

### Можно ли добавить новые паттерны реакции?

Да, см. [Руководство по расширению системы](development/extending-system.md), раздел "Пример 2".

### Как интегрировать новый модуль с Learning/Adaptation?

Новый модуль может читать параметры `learning_params` и `adaptation_params` из `SelfState`, но не должен изменять их напрямую. Изменения параметров должны происходить только через Learning Engine и Adaptation Manager.

### Что такое Planning и Intelligence?

- **Planning**: Фиксирует потенциальные последовательности событий без оценки или выбора
- **Intelligence**: Обрабатывает информацию из различных источников без интерпретации

Эти модули реализуют нейтральное хранение и обработку данных, не влияя на поведение системы.

## Проблемы и решения

### Система не запускается

1. Проверьте версию Python (требуется 3.14+)
2. Установите зависимости: `pip install -r requirements.txt`
3. Проверьте, что порт 8000 свободен

### API не отвечает

1. Проверьте, что сервер запущен
2. Проверьте логи на наличие ошибок
3. Убедитесь, что используется правильный порт

### Тесты не проходят

1. Убедитесь, что все зависимости установлены
2. Проверьте версию Python
3. Запустите тесты с опцией `-v` для подробного вывода

### Память переполняется

Память автоматически ограничивается 50 записями. Старые записи архивируются. Если проблема сохраняется, проверьте механизм архивации.

## Дополнительные ресурсы

- [Документация проекта](INDEX.md) — главная страница документации
- [Архитектура](architecture/overview.md) — архитектура системы
- [Статус проекта](development/status.md) — текущий статус реализации
- [Руководство по расширению](development/extending-system.md) — как добавить новый модуль
- [Руководство по отладке](development/debugging.md) — отладка и troubleshooting

## Контакты и поддержка

При возникновении вопросов:

1. Изучите документацию в `docs/`
2. Проверьте примеры в существующих модулях
3. Изучите тесты для понимания использования API
4. Обратитесь к архитектурным документам в `docs/concepts/`
