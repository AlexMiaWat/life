# –û—Ç—á–µ—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—É–Ω–∫—Ç–∞ 2 –ø–ª–∞–Ω–∞ current_plan_task_1768841731.md

**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 2026-01-19

**–ó–∞–¥–∞—á–∞:** Memory v2.0 - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π (09.2)

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `weight` –≤ `MemoryEntry`
```python
@dataclass
class MemoryEntry:
    event_type: str
    meaning_significance: float
    timestamp: float
    weight: float = 1.0  # –í–µ—Å –∑–∞–ø–∏—Å–∏ –¥–ª—è –º–µ—Ö–∞–Ω–∏–∑–º–∞ –∑–∞–±—ã–≤–∞–Ω–∏—è
    feedback_data: Optional[Dict] = None
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –ü–æ–ª–µ `weight` –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –∑–∞–±—ã–≤–∞–Ω–∏—è –∏ –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–µ–π –ø—Ä–∏ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏–∏.

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –º–µ—Ç–æ–¥–∞ `clamp_size()`
**–ë—ã–ª–æ:**
```python
def clamp_size(self):
    """–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –ø–∞–º—è—Ç–∏, —É–¥–∞–ª—è—è —Å–∞–º—ã–µ —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏."""
    while len(self) > self._max_size:
        self.pop(0)
```

**–°—Ç–∞–ª–æ:**
```python
def clamp_size(self):
    """–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –ø–∞–º—è—Ç–∏, —É–¥–∞–ª—è—è –∑–∞–ø–∏—Å–∏ —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –≤–µ—Å–æ–º."""
    # –°–Ω–∞—á–∞–ª–∞ —É–¥–∞–ª—è–µ–º –∑–∞–ø–∏—Å–∏ —Å –≤–µ—Å–æ–º –Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∞
    self[:] = [entry for entry in self if entry.weight >= self._min_weight_threshold]

    # –ó–∞—Ç–µ–º –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä, —É–¥–∞–ª—è—è –∑–∞–ø–∏—Å–∏ —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –≤–µ—Å–æ–º
    while len(self) > self._max_size:
        # –ù–∞—Ö–æ–¥–∏–º –∑–∞–ø–∏—Å—å —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –≤–µ—Å–æ–º
        if not self:
            break
        min_weight_entry = min(self, key=lambda x: x.weight)
        self.remove(min_weight_entry)
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ —É–¥–∞–ª—è—é—Ç—Å—è –∑–∞–ø–∏—Å–∏ —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –≤–µ—Å–æ–º, –∞ –Ω–µ —Å–∞–º—ã–µ —Å—Ç–∞—Ä—ã–µ. –¢–∞–∫–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è –∑–∞–ø–∏—Å–∏ —Å –≤–µ—Å–æ–º –Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∞.

### 3. –î–æ–±–∞–≤–ª–µ–Ω –ø–æ—Ä–æ–≥ –≤–µ—Å–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è
```python
self._min_weight_threshold = 0.1  # –ü–æ—Ä–æ–≥ –≤–µ—Å–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –ó–∞–ø–∏—Å–∏ —Å –≤–µ—Å–æ–º –Ω–∏–∂–µ 0.1 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è, —á—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ "–±–µ—Å–ø–æ–ª–µ–∑–Ω—ã—Ö" –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π.

### 4. –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `archive_old_entries()`
**–ë—ã–ª–æ:**
```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –≤–µ—Å—É (–µ—Å–ª–∏ –≤–µ—Å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –±—É–¥—É—â–µ–º)
# –ü–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∑–Ω–∞—á–∏–º–æ—Å—Ç—å –∫–∞–∫ –ø—Ä–æ–∫—Å–∏ –¥–ª—è –≤–∞–∂–Ω–æ—Å—Ç–∏
if min_significance is not None:
    if entry.meaning_significance < min_significance:
        should_archive = True
```

**–°—Ç–∞–ª–æ:**
```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –≤–µ—Å—É
if min_weight is not None:
    if entry.weight < min_weight:
        should_archive = True
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –¢–µ–ø–µ—Ä—å –∞—Ä—Ö–∏–≤–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π –≤–µ—Å –∑–∞–ø–∏—Å–∏ –≤–º–µ—Å—Ç–æ –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏ –∫–∞–∫ –ø—Ä–æ–∫—Å–∏.

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ (–∏–∑ –ø–ª–∞–Ω–∞)

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:
- [x] **–°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ —Å –Ω–∏–∑–∫–∏–º –≤–µ—Å–æ–º —É–¥–∞–ª—è—é—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –∑–∞–ø–∏—Å–∏ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –≤–µ—Å–æ–º
- [x] **–í–∞–∂–Ω—ã–µ –∑–∞–ø–∏—Å–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–æ–ª—å—à–µ** - –∑–∞–ø–∏—Å–∏ —Å –≤—ã—Å–æ–∫–∏–º –≤–µ—Å–æ–º –æ—Å—Ç–∞—é—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ –¥–æ–ª—å—à–µ
- [x] **–†–∞–∑–º–µ—Ä –ø–∞–º—è—Ç–∏ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ª–∏–º–∏—Ç–∞** - clamp_size() –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞

### üîÑ –ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:
- [x] **–†–∞—Å—à–∏—Ä–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ clamp_size() –¥–ª—è —É—á–µ—Ç–∞ –≤–µ—Å–æ–≤** - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- [x] **–î–æ–±–∞–≤–ª–µ–Ω –ø–æ—Ä–æ–≥ –≤–µ—Å–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è (< 0.1)** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –¢–µ—Å—Ç—ã –Ω–µ –±—ã–ª–∏ –∑–∞–ø—É—â–µ–Ω—ã –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è Python –≤ —Å—Ä–µ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –û–¥–Ω–∞–∫–æ:

1. **–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å:** –ö–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
2. **–õ–æ–≥–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å:** –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–ª–µ–¥—É—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ø–ª–∞–Ω–∞
3. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ª–æ–º–∞—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã MemoryEntry –∏ Memory

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–î–ª—è –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Memory v2.0 –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–¥–∞—á–∏:
- **09.1** - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –∑–∞–±—ã–≤–∞–Ω–∏—è (–∑–∞—Ç—É—Ö–∞–Ω–∏–µ –≤–µ—Å–æ–≤) - —á–∞—Å—Ç–∏—á–Ω–æ –≥–æ—Ç–æ–≤–æ (–ø–æ–ª–µ weight –¥–æ–±–∞–≤–ª–µ–Ω–æ)
- **09.3-09.15** - –û—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞—Ä—Ö–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏, –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã

**–ü—Ä–∏–Ω—Ü–∏–ø—ã Memory —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã:**
- ‚úÖ **–≠–ø–∏–∑–æ–¥–∏—á–Ω–æ—Å—Ç—å:** –ó–∞–ø–∏—Å–∏ –æ—Å—Ç–∞—é—Ç—Å—è —ç–ø–∏–∑–æ–¥–∞–º–∏ —Å –≤–µ—Å–∞–º–∏
- ‚úÖ **–ê—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å:** –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –≤–µ—Å–∞ –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–æ–≥–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞
- ‚úÖ **–ó–∞–±—ã–≤–∞–Ω–∏–µ:** –ù–∏–∑–∫–æ–≤–µ—Å–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è
- ‚úÖ **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –í–µ—Å - —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∏, –∞ –Ω–µ —Ü–µ–ª—å

–û—Ç—á–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!
