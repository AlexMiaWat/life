# Решение проблемы с коммитом

## Проблема

Pre-commit hook блокирует коммит из-за:
1. Форматирования файлов (black/ruff-format)
2. Линтинга (ruff)

## Решение

### Вариант 1: Исправить все проблемы (рекомендуется)

```bash
# 1. Отформатировать все файлы
python -m black src/

# 2. Исправить проблемы линтинга
python -m ruff check --fix --unsafe-fixes src/ mcp_index.py

# 3. Добавить все изменения
git add .

# 4. Запустить pre-commit вручную
python -m pre_commit run --all-files

# 5. Если pre-commit прошел, можно коммитить
git commit -m "Ваше сообщение"
```

### Вариант 2: Пропустить pre-commit (не рекомендуется, только для срочных коммитов)

```bash
git commit --no-verify -m "Ваше сообщение"
```

**⚠️ Внимание:** Используйте `--no-verify` только в крайних случаях!

## Текущий статус

- ✅ **Ruff линтинг:** Исправлен (15 ошибок F841 исправлено)
- ✅ **isort:** Проходит
- ⚠️ **Black форматирование:** Может форматировать файлы при каждом запуске

## Примечания

- Pre-commit hook установлен в `.git/hooks/pre-commit`
- Конфигурация находится в `.pre-commit-config.yaml`
- Если файлы продолжают форматироваться, это может быть из-за разницы между staged и working directory
