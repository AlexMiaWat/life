# ADR 003: Границы наблюдаемости в соответствии с философией Life

## Статус
✅ **Принято** - 2026-01-22

## Контекст

Система Life позиционируется как "без сознания, целей, интерпретации". Intelligence слой остается пассивным, система не имеет претензий на "осознание" или "этику". Однако система наблюдаемости активно вмешивается в runtime loop, логируя стадии принятия решений.

## Архитектурная проблема

Текущая система наблюдаемости:
- Активно логирует каждый этап обработки (event → meaning → decision → action → feedback)
- Создает correlation_id для трассировки цепочек
- Анализирует поведение системы в реальном времени
- Ведет себя как "активный мониторинг с обратной связью"

Это противоречит философии Life как системы без интерпретации и целей.

## Решение

### Допустимые границы наблюдаемости

#### ✅ Разрешено: Техническое логирование инфраструктуры
- Логирование технических метрик (время тика, размер очереди)
- Логирование ошибок и исключений
- Логирование конфигурации и инициализации
- Статистика использования ресурсов

#### ✅ Разрешено: Прозрачность обработки
- Логирование входных событий без интерпретации
- Логирование выходных действий без анализа причин
- Корреляция событий только для технической трассировки
- Логирование фактов, а не интерпретации

#### ❌ Запрещено: Анализ поведения системы
- Анализ "правильности" решений
- Оценка "эффективности" действий
- Интерпретация "поведения" системы
- Создание обратной связи на основе анализа

#### ❌ Запрещено: Семантический анализ
- Анализ "значимости" событий (meaning)
- Оценка "результатов" действий (feedback)
- Создание "цепочек принятия решений"
- Любая форма интерпретации содержания

### Архитектурные принципы

1. **Отсутствие интерпретации**: Логирование только фактов, без анализа их значения
2. **Техническая прозрачность**: Видимость технических аспектов работы без оценки качества
3. **Пассивность анализа**: Инструменты анализа работают только по запросу, не в реальном времени
4. **Отсутствие обратной связи**: Логи не влияют на поведение системы

### Реализация границ

#### StructuredLogger: Техническое логирование только
```python
# ✅ Допустимо: технические метрики
structured_logger.log_tick_start(ticks, queue_size)
structured_logger.log_event(event_id, correlation_id)  # Только ID, без содержания

# ❌ Запрещено: семантический анализ
# structured_logger.log_meaning(event, meaning, correlation_id)  # Интерпретация!
# structured_logger.log_decision(correlation_id)  # Анализ решений!
# structured_logger.log_action(action_id, correlation_id)  # Оценка действий!
```

#### Инструменты анализа: Только постфактум
- Анализ логов только по запросу разработчика
- Нет автоматизированного анализа в runtime
- Нет рекомендаций или оптимизаций на основе логов
- Только статистика и технические метрики

## Последствия

### Положительные
- Соответствие философии Life
- Четкие границы ответственности
- Снижение архитектурной сложности
- Уменьшение overhead (техническое логирование эффективнее семантического)

### Отрицательные
- Меньше возможностей для отладки
- Сложнее анализировать проблемы логики
- Ограниченная полезность для понимания поведения системы

## Альтернативы

### Активный мониторинг (отклонено)
- Полный анализ всех аспектов работы
- Автоматизированная обратная связь
- Нарушение философии Life

### Полная пассивность (отклонено)
- Отсутствие какой-либо наблюдаемости
- Невозможность отладки и анализа
- Непрактично для сложной системы

## Примечания реализации

Текущая система наблюдаемости нарушает эти границы. Необходимо рефакторинг:

1. Удалить логирование семантических стадий (meaning, decision, action, feedback)
2. Ограничить логирование только техническими фактами
3. Переработать инструменты анализа под техническую направленность
4. Обновить документацию с новыми границами

## Ссылки
- [Философия системы Life](../../README.md)
- [Отчет Скептика: Архитектурный обман observability](../reviews/skeptic_task_1769050723_20260122.md)
- [Текущая архитектура observability](../observability/architecture.md)