# 04_MONITOR.md

## Назначение

Monitor — это система наблюдения за жизнью **life**.

Он не является интерфейсом общения, не участвует в принятии решений и не влияет на Runtime Loop.
Monitor существует **исключительно для наблюдения человеком** и для отладки архитектурной корректности жизни.

Ключевой принцип:

> Monitor показывает *что происходит*, а не *что life говорит*.

---

## Архитектурная позиция

```
Runtime Loop → Self-State → Monitor → Человек
```

Жёсткие правила:

* Monitor только читает данные
* Monitor не может писать в Self-State
* Monitor не может инициировать действия
* Потеря Monitor не влияет на жизнь

---

## Уровни наблюдения

### Level 0 — Heartbeat

Минимальный признак жизни.

Отображает:

* факт тика
* нерегулярность (jitter)

Формы:

* символы
* точки
* звуковой щелчок

Назначение:

* понять, что жизнь идёт
* почувствовать ритм

---

### Level 1 — Vital Telemetry

Базовые жизненные параметры:

* energy
* integrity
* stability
* age

Формат:

* числовые значения
* простые полосы

Назначение:

* отслеживание здоровья жизни
* обнаружение деградации

---

### Level 2 — Dynamic Signals

Медленные внутренние процессы:

* tension
* fatigue
* noise
* drift

Особенности:

* не имеют словесной интерпретации
* читаются как паттерны

Назначение:

* понимание внутренней динамики
* диагностика перегрузки

---

### Level 3 — Event Trace

События, произошедшие в тике:

* ошибки
* действия
* исключения

Формат:

* JSONL лог в data/tick_log.jsonl
* временная шкала по ticks

Назначение:

* анализ причин и следствий
* визуализация истории жизни

---

## Режимы Monitor

### Live Mode

* обновление в реальном времени
* допустим лаг
* ориентирован на ощущение процесса

### Snapshot Mode

* периодические снимки состояния
* используется для анализа

### Postmortem Mode

* анализ завершённой жизни
* чтение логов и снапшотов

---

## Принципы визуализации

* никаких эмоций
* никаких слов «думает», «хочет», «чувствует»
* только состояния, ритмы и изменения

Интерпретация — задача человека.

---

## Минимальная реализация (v0)

Обязательные элементы:

* консольный вывод
* heartbeat
* 3–5 ключевых параметров
* простой лог

Запрещено на этапе v0:

* GUI
* графика
* звук как эмоция
* речь

---

## Архитектурный инвариант

> Monitor — это прибор.
> Если он начинает "разговаривать" — архитектура нарушена.

---

## Будущее развитие (НЕ сейчас)

Возможные направления:

* визуальные дашборды
* аудио-сигналы как отражение ритма
* внешние клиенты

Все они обязаны соблюдать принцип read-only.

---

## Использование Monitor

### Консольный вывод

Автоматически включается при запуске. Формат:

```
• [ticks] age=10.0s energy=98.0 int=1.00 stab=0.99
```

### JSON логи

Файл: `data/tick_log.jsonl`

Каждая строка — JSON с параметрами тика.

### Просмотр логов

```
tail -f data/tick_log.jsonl
```

### Очистка логов

Через API:

```
curl http://localhost:8000/clear-data
```

Или при запуске с `--clear-data yes`
