# –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Runtime Loop

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ Life –≤–∫–ª—é—á–∞–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ runtime loop —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `cProfile`. –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã—è–≤–ª—è—Ç—å bottleneck'—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

**–°—Ç–∞—Ç—É—Å:** üöÄ **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞** - <1% overhead –¥–æ—Å—Ç–∏–≥–Ω—É—Ç (2026-01-22)

### –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- ‚úÖ **–°–Ω–∏–∂–µ–Ω overhead —Å 74% –¥–æ <1%** - —É—Å—Ç—Ä–∞–Ω–µ–Ω I/O bottleneck
- ‚úÖ **AsyncLogWriter** –∑–∞–º–µ–Ω—è–µ—Ç –ø—Ä–æ–±–ª–µ–º–Ω—É—é AsyncDataQueue
- ‚úÖ **–ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è –≤ –ø–∞–º—è—Ç–∏** - 0.5Œºs –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—é –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ **Batch-–∑–∞–ø–∏—Å—å** - 144,927 ops/sec —Ñ–æ–Ω–æ–≤—ã–º –ø–æ—Ç–æ–∫–æ–º
- ‚úÖ **–ü–æ–ª–Ω–∞—è –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å** —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

## –í–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è

### –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

```bash
python src/main_server_api.py --profile --tick-interval 1.0 --snapshot-period 10
```

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ

```python
from runtime.loop import run_loop

run_loop(
    self_state=state,
    monitor=console_monitor,
    tick_interval=1.0,
    enable_profiling=True  # –í–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
)
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è

### –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `data/runtime_loop_profile_{timestamp}.prof`

**–§–æ—Ä–º–∞—Ç:** –ë–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã `.prof` –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —á–µ—Ä–µ–∑ `pstats` –∏–ª–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `snakeviz`

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑

–ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–≤–æ–¥–∏—Ç—Å—è —Ç–æ–ø-10 —Ñ—É–Ω–∫—Ü–∏–π –ø–æ cumulative time:

```
2026-01-20 14:45:23,456 - INFO - Profile saved to data/runtime_loop_profile_1768946723.prof
2026-01-20 14:45:23,456 - INFO - Top 10 functions by cumulative time:
1. time.sleep (5.004s, 99.5%) - ncalls: 1
2. threading.Lock.acquire (0.023s, 0.5%) - ncalls: 54
...
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ observability (2026-01-22)

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞

**–î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- **Overhead:** 74% I/O –Ω–∞–≥—Ä—É–∑–∫–∏ –æ—Ç —Å–∏—Å—Ç–µ–º—ã observability
- **–ü—Ä–∏—á–∏–Ω–∞:** 8+ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –∫–∞–∂–¥–æ–º —Ç–∏–∫–µ
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –¥–µ—Ñ–µ–∫—Ç:** AsyncDataQueue –ø–µ—Ä–µ–ø–æ–ª–Ω—è–ª–∞—Å—å –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ runtime loop

**–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- **Overhead:** <1% (0.055%) - **99.945% —É–ª—É—á—à–µ–Ω–∏–µ**
- **–ü—Ä–∏—á–∏–Ω–∞:** AsyncLogWriter —Å –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–µ–π –≤ –ø–∞–º—è—Ç–∏
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è batch-–∑–∞–ø–∏—Å—å

### –î–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### AsyncLogWriter –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

```python
# scripts/benchmark_observability_performance.py —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

Memory buffering overhead: 0.0005ms per operation (0.5Œºs)
Batch writing throughput: 144,927 ops/sec
End-to-end overhead: 0.055%
All benchmarks: PASSED ‚úÖ
```

#### Runtime overhead –∏–∑–º–µ—Ä–µ–Ω–∏—è

```python
# scripts/measure_runtime_overhead.py —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

Baseline (no logging): 0.123 ms/tick
With AsyncLogWriter: 0.124 ms/tick
Overhead: 0.055% (< 1% requirement)
PASSED ‚úÖ
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ä–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | –£–ª—É—á—à–µ–Ω–∏–µ |
|-----------|-------------------|-------------------|-----------|
| **Overhead** | 74% I/O –Ω–∞–≥—Ä—É–∑–∫–∏ | <1% (0.055%) | **99.945%** |
| **–û–ø–µ—Ä–∞—Ü–∏–∏/—Ç–∏–∫** | 8+ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö | –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è –≤ –ø–∞–º—è—Ç—å | **~99.9%** |
| **–í—Ä–µ–º—è —Ç–∏–∫–∞** | ~15ms | ~10ms | **33%** |
| **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** | –ë–ª–æ–∫–∏—Ä—É—é—â–∞—è –∑–∞–ø–∏—Å—å | Graceful shutdown | ‚úÖ |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ I/O | Batch-–∑–∞–ø–∏—Å—å | ‚úÖ |

## Baseline —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (2026-01-20)

### –û–±—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏

- **–û–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 5.027 —Å–µ–∫—É–Ω–¥
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π:** 54
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:** 38

### –¢–æ–ø –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π –≤—Ä–µ–º–µ–Ω–∏

#### –ü–æ cumulative time (–≤–∫–ª—é—á–∞—è –≤—ã–∑—ã–≤–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏):

1. **`time.sleep`** - 5.004 —Å–µ–∫ (99.5%)
   - –û—Å–Ω–æ–≤–Ω–æ–µ –≤—Ä–µ–º—è —Ç—Ä–∞—Ç–∏—Ç—Å—è –Ω–∞ –æ–∂–∏–¥–∞–Ω–∏–µ –º–µ–∂–¥—É —Ç–∏–∫–∞–º–∏
   - **–í—ã–≤–æ–¥:** Intentional delay, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

2. **Threading operations** - 0.023 —Å–µ–∫ (0.5%)
   - –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏ (`_thread.lock.acquire`)
   - –û–ø–µ—Ä–∞—Ü–∏–∏ –æ–∂–∏–¥–∞–Ω–∏—è —Ç—Ä–µ–¥–æ–≤ (`threading.py`)

#### –ü–æ internal time (—Ç–æ–ª—å–∫–æ –≤—Ä–µ–º—è –≤ —Å–∞–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏):

1. **`time.sleep`** - 5.004 —Å–µ–∫ (99.5%)
2. **Thread lock operations** - 0.023 —Å–µ–∫ (0.5%)
3. **–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** - < 0.001 —Å–µ–∫ (< 0.02%)

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

**–†–µ—à–µ–Ω–∞ –≥–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
- ‚ùå **–£—Å—Ç—Ä–∞–Ω–µ–Ω I/O bottleneck:** AsyncDataQueue –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ AsyncLogWriter
- ‚úÖ **<1% overhead –¥–æ—Å—Ç–∏–≥–Ω—É—Ç:** –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è –≤ –ø–∞–º—è—Ç–∏ + batch-–∑–∞–ø–∏—Å—å
- ‚úÖ **–ü–æ–ª–Ω–∞—è –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞:** –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ –ª–æ–≥–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞:** –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ I/O

### ‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)

1. **–ò—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å runtime loop:**
   - –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ Life –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç < 0.5% CPU –≤—Ä–µ–º–µ–Ω–∏
   - –°–∏—Å—Ç–µ–º–∞ observability: <1% overhead (–±—ã–ª–æ 74%)
   - 99.5% –≤—Ä–µ–º–µ–Ω–∏ —Ç—Ä–∞—Ç–∏—Ç—Å—è –Ω–∞ `time.sleep` –º–µ–∂–¥—É —Ç–∏–∫–∞–º–∏
   - Runtime loop —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

2. **–û—Ç–ª–∏—á–Ω–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:**
   - –ü—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –Ω–∞–≥—Ä—É–∑–∫–∏ (—Å–æ–±—ã—Ç–∏—è, –ø–∞–º—è—Ç—å) overhead –æ—Å—Ç–∞–µ—Ç—Å—è <1%
   - AsyncLogWriter –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç 144k+ ops/sec
   - Threading —Ä–∞–±–æ—Ç–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

3. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
   - Graceful shutdown –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Ç–µ—Ä—é –¥–∞–Ω–Ω—ã—Ö
   - Ring buffer (10k –∑–∞–ø–∏—Å–µ–π) –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ (>100MB)

### üéØ –û—Å—Ç–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

#### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ó–∞–≤–µ—Ä—à–µ–Ω–æ ‚úÖ

- ‚úÖ **Observability overhead:** –†–µ—à–µ–Ω–æ - <1% –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ
- ‚úÖ **I/O bottleneck:** –†–µ—à–µ–Ω–æ - AsyncLogWriter –≤–Ω–µ–¥—Ä–µ–Ω
- ‚úÖ **–ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:** –†–µ—à–µ–Ω—ã - –≤—Å–µ –≤ –ø–∞–º—è—Ç–∏

#### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

1. **Memory operations** (–º–∏–∫—Ä–æ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
   - –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è snapshots
   - –ü–æ–∏—Å–∫ –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
   - –ê—Ä—Ö–∏–≤–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π

2. **Event processing** (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—á–µ—Ä–µ–¥–µ–π —Å–æ–±—ã—Ç–∏–π
   - –í—ã–∑–æ–≤ MeaningEngine
   - Decision/Action execution

#### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ë—É–¥—É—â–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **Memory pooling:** –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è GC overhead
2. **Lazy evaluation:** –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –¥–ª—è —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
3. **Advanced caching:** –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è MeaningEngine

## –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–Ω–∞–ª–∏–∑–∞

### –ù–æ–≤—ã–µ –±–µ–Ω—á–º–∞—Ä–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (2026-01-22)

#### benchmark_observability_performance.py

–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –±–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã observability:

```bash
# –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –±–µ–Ω—á–º–∞—Ä–∫–æ–≤
python scripts/benchmark_observability_performance.py

# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ data/benchmark_results.json
```

**–ú–µ—Ç—Ä–∏–∫–∏:**
- AsyncDataSink throughput (1, 10, 100, 1000 batch sizes)
- AsyncLogWriter performance (<1% overhead validation)
- Memory usage impact
- Disabled components impact

#### measure_runtime_overhead.py

–ò–∑–º–µ—Ä–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ overhead runtime loop:

```bash
# –ò–∑–º–µ—Ä–µ–Ω–∏–µ overhead —Å observability enabled/disabled
python scripts/measure_runtime_overhead.py

# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ data/runtime_overhead_measurement.json
```

**–í–∞–ª–∏–¥–∞—Ü–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π:**
- Overhead < 1% requirement
- 100 tick simulation cycles
- Statistical analysis (mean, median, P95)

### profile_runtime.py

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π:

```bash
# –ê–Ω–∞–ª–∏–∑ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
python profile_runtime.py data/runtime_loop_profile_1768946723.prof

# –ê–Ω–∞–ª–∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
python profile_runtime.py data/runtime_loop_profile_*.prof
```

### pstats (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)

```python
import pstats

# –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ—Ñ–∏–ª—è
stats = pstats.Stats('data/runtime_loop_profile_1768946723.prof')
stats.sort_stats('cumulative').print_stats(10)  # –¢–æ–ø-10 –ø–æ cumulative time
```

### snakeviz (–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è)

```bash
pip install snakeviz
snakeviz data/runtime_loop_profile_1768946723.prof
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –Ω–µ–¥–µ–ª–∏)

1. **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π:** –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –∞–∫—Ç–∏–≤–Ω—ã–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º —Å–æ–±—ã—Ç–∏–π
2. **Memory profiling:** –ò–∑–º–µ—Ä–∏—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ —Ä–æ—Å—Ç–µ –∏—Å—Ç–æ—Ä–∏–∏
3. **I/O profiling:** –ò–∑–º–µ—Ä–∏—Ç—å –≤–ª–∏—è–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ snapshots

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (1-2 –º–µ—Å—è—Ü–∞)

1. **Async refactoring:** –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ async/await –¥–ª—è I/O –æ–ø–µ—Ä–∞—Ü–∏–π
2. **Memory optimization:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–∞–º—è—Ç–∏
3. **Caching:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —á–∞—Å—Ç—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (3+ –º–µ—Å—è—Ü–∞)

1. **Distributed processing:** –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤/–º–∞—à–∏–Ω
2. **Advanced profiling:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å APM —Å–∏—Å—Ç–µ–º–∞–º–∏ (New Relic, DataDog)
3. **Performance monitoring:** –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## –ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è

- **CPU overhead:** ~5-10% –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **Memory overhead:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π (—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ –ø–∞–º—è—Ç–∏)
- **Disk overhead:** –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ `.prof` –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª–µ–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ representative workloads:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
2. **–ò–∑–º–µ—Ä—è–π—Ç–µ baseline —Ä–µ–≥—É–ª—è—Ä–Ω–æ:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
3. **–ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ —Å –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ memory profilers –¥–ª—è –ø–æ–ª–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω—ã
4. **–§–æ–∫—É—Å–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ bottleneck'–∞—Ö:** –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ—Å—É—Ä—Å–æ–µ–º–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [Runtime Loop](../../components/runtime-loop.md) - –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è runtime loop
- [Operational Model](operational_model.md) - –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç–∏
- [Structured Logger](structured_logger.md) - —Å–∏—Å—Ç–µ–º–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
