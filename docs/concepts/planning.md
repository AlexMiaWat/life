# 17 — PLANNING LIMITS

> Архитектурный предохранитель слоя **Planning**.
> Этот документ фиксирует жёсткие ограничения, чтобы Planning **не превратился** в построение цепочек действий, сценариев или предсказание будущего.

---

## Назначение документа

Planning — потенциальный слой после Goals.
Без ограничений он может превратиться в:

* генератор планов действий
* прогнозирующий агент
* управляющий последовательностью действий Life

Цель этого документа — **не дать этому случиться**.

---

## Архитектурное определение Planning (кратко)

Planning — это:

* фиксация возможных последовательностей, но **не выбор или исполнение**
* без предсказаний будущего
* без целей, мотивации или оценки

Planning **не является**:

* прогнозированием
* оптимизацией действий
* управлением Decision или Action
* замкнутым циклом действий

---

## Абсолютные запреты (Hard Limits)

### 1. Запрет на исполнение

Planning:

* ❌ не инициирует действия
* ❌ не запускает Decision или Action
* ❌ не влияет на Adaptation, Learning или Feedback

### 2. Запрет на цели и мотивацию

Planning:

* ❌ не работает для достижения результата
* ❌ не формирует намерений Life
* ❌ не управляет выбором вариантов

### 3. Запрет на предсказания и оценки

Planning:

* ❌ не оценивает сценарии как хорошие/плохие
* ❌ не ранжирует возможные последовательности
* ❌ не строит причинно-следственные цепочки

### 4. Запрет на циклы и замыкания

Planning:

* ❌ не инициирует Decision → Action → Feedback → Learning/Adaptation → Planning
* ❌ не корректирует прошлые или будущие действия

---

## Разрешённый минимум (Safe Core)

Planning **может**:

* хранить потенциальные последовательности как **нейтральные структуры**
* фиксироваться в памяти без интерпретации

Planning **не может**:

* влиять на поведение Life
* формировать приоритеты или выбор
* инициировать любые действия

---

## Запрещённые паттерны проектирования

Запрещены:

* scenario / simulation / prediction
* plan-directed action
* optimization loop
* reinforcement loop
* intention-driven planning

Появление этих терминов — стоп-сигнал.

---

## Контрольное правило

> Planning не отвечает на вопрос «что делать».

Он отвечает только на вопрос:

> **"какие последовательности возможны"**

И даже это без оценки и интерпретации.

---

## Архитектурный стоп-сигнал

Если при развитии Planning появляется ощущение, что:

* Life строит сценарии для себя
* Life пытается предсказывать будущее
* Life управляет Decision или Action

→ развитие слоя Planning **немедленно останавливается**.

## Текущая реализация (v1.0)

На 13 января 2026 года реализован минимальный слой Planning, соответствующий всем архитектурным ограничениям.

### Описание реализации
Planning как функция `record_potential_sequences(self_state)` в [`src/planning/planning.py`](../../src/planning/planning.py), вызывается после MeaningEngine в Runtime Loop.

#### Принципы реализации
- Нейтральная фиксация: простая запись последних событий как последовательности без оценки.
- Без влияния: записывает данные в `self_state.planning` без изменений других полей.
- Минимализм: использует proxy-данные из self_state (recent_events, energy_history, stability_history).

#### Структура данных
```python
self_state.planning = {
    'potential_sequences': [['event1', 'event2']],  # если >=2 события
    'sources_used': {
        'memory_proxy': len(recent_events),
        'learning_proxy': len(stability_history),
        'adaptation_proxy': len(energy_history)
    }
}
```

### Соответствие ограничениям
- ✅ Не инициирует действия или Decision
- ✅ Не имеет целей или мотивации
- ✅ Не оценивает или ранжирует последовательности
- ✅ Не влияет на другие слои
- ✅ Не строит сценарии или предсказания

Planning — фиксация потенциального, без цели, оценки и исполнения.
