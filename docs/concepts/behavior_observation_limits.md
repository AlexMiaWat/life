# Правила пассивного наблюдения за поведением системы Life

**Дата:** 2026-01-21
**Цель:** Определить допустимые границы инструментов наблюдения в рамках архитектуры Life
**Принцип:** Пассивный сбор сырых данных без интерпретации, оценки или анализа

---

## Архитектурные ограничения

### Запрещенные паттерны анализа

**❌ Интерпретация данных:**
- Нельзя оценивать "хорошее" или "плохое" поведение
- Нельзя интерпретировать причины изменений
- Нельзя делать выводы о "самоосознании" или "адаптивности"

**❌ Термины, подразумевающие сознание:**
- Самоосознание (self-awareness)
- Этическое поведение (ethical behavior)
- Адаптивность (adaptability)
- Интеллект (intelligence в смысле мышления)
- Обучение (learning в смысле понимания)

**❌ Анализ трендов:**
- Нельзя анализировать "развитие" системы
- Нельзя оценивать "прогресс" или "регресс"
- Нельзя делать прогнозы поведения

**❌ Обратная связь:**
- Наблюдение не влияет на работу системы
- Данные не используются для корректировки поведения
- Отсутствие циклов обратной связи

---

## Допустимые данные для сбора

### SelfState параметры (пассивный мониторинг)
```python
{
    "energy": float,        # Текущий уровень энергии
    "stability": float,     # Уровень стабильности
    "integrity": float,     # Целостность системы
    "complexity": int,      # Сложность (число компонентов)
    "age": int,             # Время жизни в тиках
    "status": str          # Статус работы
}
```

### Статистика компонентов (количественные данные)
```python
{
    "component_name": {
        "count": int,           # Количество экземпляров
        "active": int,          # Активные компоненты
        "inactive": int,        # Неактивные компоненты
        "total_size": int,      # Общий размер в байтах
        "average_lifetime": float # Среднее время жизни
    }
}
```

### История изменений (временные ряды)
```python
{
    "timestamp": int,       # Метка времени (тик)
    "component": str,       # Имя компонента
    "action": str,          # Действие (create/update/delete)
    "old_value": any,       # Предыдущее значение
    "new_value": any        # Новое значение
}
```

---

## Правила сбора данных

### 1. Пассивность
- Наблюдение не влияет на работу системы
- Отсутствие дополнительных вычислений для анализа
- Минимальное потребление ресурсов

### 2. Полнота
- Сбор всех доступных SelfState параметров
- Мониторинг всех активных компонентов
- Фиксация всех изменений состояния

### 3. Структурированность
- Данные сохраняются в предопределенных форматах
- Единообразие именования полей
- Четкая типизация данных

### 4. Доступность
- Данные доступны для внешнего экспорта
- Поддержка стандартных форматов (JSON, CSV)
- Возможность выборки по времени/компонентам

---

## Интеграция в runtime

### Хуки сбора данных
- Сбор данных происходит в конце каждого тика
- Интеграция через существующие точки мониторинга
- Отсутствие дополнительных задержек

### Формат хранения
- Временные ряды в памяти для быстрого доступа
- Периодический экспорт на диск
- Ротация файлов для предотвращения переполнения

---

## Использование данных

### Внешний анализ
- Данные предназначены для анализа внешними инструментами
- Возможность построения графиков и диаграмм
- Сравнение различных запусков системы

### Отладка и мониторинг
- Помощь в выявлении проблем производительности
- Мониторинг роста сложности системы
- Отслеживание паттернов использования ресурсов

---

## Реализация

### Компоненты системы наблюдения

1. **StateTracker** - сбор параметров SelfState
2. **ComponentMonitor** - мониторинг компонентов
3. **DataCollector** - агрегация и хранение данных
4. **HistoryManager** - управление временными рядами

### Интеграция
- Хуки в runtime loop для периодического сбора
- Экспорт данных по запросу или автоматически
- Минимальное API для внешнего доступа

---

## Тестирование

### Критерии валидности
- Корректность сбора всех SelfState параметров
- Полнота данных о компонентах
- Отсутствие влияния на производительность
- Правильность экспорта в различные форматы

---

## Риски

- **Производительность:** Сбор данных не должен замедлять систему более чем на 1%
- **Память:** Ограничение размера хранимых данных
- **Архитектура:** Строгое соблюдение принципов пассивности

---

*Этот документ определяет границы допустимого наблюдения и предотвращает архитектурные нарушения.*